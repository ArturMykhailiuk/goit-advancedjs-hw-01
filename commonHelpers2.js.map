{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const load = key => {\n    try {\n      const valueFromLS = localStorage.getItem(key);\n  \n      return valueFromLS === null ? undefined : JSON.parse(valueFromLS);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  \nconst save = (key, value) => {\n    try {\n      localStorage.setItem(key, JSON.stringify(value));\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  \ndocument.addEventListener('DOMContentLoaded', function(){\n    const form = document.querySelector('.feedback-form');\n    const emailInput = form.querySelector('.email');\n    const messageInput = form.querySelector('.message');\n    const formData = { email: \"\", message: \"\" };\n\n    const storedFormData = load('feedback-form-state') || {};\n    \n    if (storedFormData.email) {\n        emailInput.value = storedFormData.email;\n        formData.email = storedFormData.email;\n    }\n    if (storedFormData.message) {\n        messageInput.value = storedFormData.message;\n        formData.message = storedFormData.message;\n    }\n\n    form.addEventListener('input', function(event) {\n        const target = event.target;\n        if (target.classList.contains('email')) {\n            formData.email = (target.value).trim();\n        } else if (target.classList.contains('message')) {\n            formData.message = (target.value).trim();\n        }\n\n        save('feedback-form-state', formData);\n    });\n \n    form.addEventListener('submit', function(event) {\n        event.preventDefault();\n        if (!formData.email || !formData.message) {\n            alert('Fill please all fields');\n            return;\n        }\n        console.log(formData);\n        localStorage.removeItem('feedback-form-state');\n        formData.email = \"\";\n        formData.message = \"\";\n        emailInput.value = \"\";\n        messageInput.value = \"\";\n    });\n});"],"names":["load","key","valueFromLS","err","save","value","form","emailInput","messageInput","formData","storedFormData","event","target"],"mappings":"oDAAA,MAAMA,EAAOC,GAAO,CAChB,GAAI,CACF,MAAMC,EAAc,aAAa,QAAQD,CAAG,EAE5C,OAAOC,IAAgB,KAAO,OAAY,KAAK,MAAMA,CAAW,CACjE,OAAQC,EAAK,CACZ,QAAQ,IAAIA,CAAG,CAChB,CACL,EAEMC,EAAO,CAACH,EAAKI,IAAU,CACzB,GAAI,CACF,aAAa,QAAQJ,EAAK,KAAK,UAAUI,CAAK,CAAC,CAChD,OAAQF,EAAK,CACZ,QAAQ,IAAIA,CAAG,CAChB,CACL,EAEA,SAAS,iBAAiB,mBAAoB,UAAU,CACpD,MAAMG,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAaD,EAAK,cAAc,QAAQ,EACxCE,EAAeF,EAAK,cAAc,UAAU,EAC5CG,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAEnCC,EAAiBV,EAAK,qBAAqB,GAAK,CAAA,EAElDU,EAAe,QACfH,EAAW,MAAQG,EAAe,MAClCD,EAAS,MAAQC,EAAe,OAEhCA,EAAe,UACfF,EAAa,MAAQE,EAAe,QACpCD,EAAS,QAAUC,EAAe,SAGtCJ,EAAK,iBAAiB,QAAS,SAASK,EAAO,CAC3C,MAAMC,EAASD,EAAM,OACjBC,EAAO,UAAU,SAAS,OAAO,EACjCH,EAAS,MAASG,EAAO,MAAO,KAAI,EAC7BA,EAAO,UAAU,SAAS,SAAS,IAC1CH,EAAS,QAAWG,EAAO,MAAO,KAAI,GAG1CR,EAAK,sBAAuBK,CAAQ,CAC5C,CAAK,EAEDH,EAAK,iBAAiB,SAAU,SAASK,EAAO,CAE5C,GADAA,EAAM,eAAc,EAChB,CAACF,EAAS,OAAS,CAACA,EAAS,QAAS,CACtC,MAAM,wBAAwB,EAC9B,MACH,CACD,QAAQ,IAAIA,CAAQ,EACpB,aAAa,WAAW,qBAAqB,EAC7CA,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnBF,EAAW,MAAQ,GACnBC,EAAa,MAAQ,EAC7B,CAAK,CACL,CAAC"}